# FinanceQA AI Agent Environment Configuration
# Copy this file to .env and fill in your actual values

# === Model Configuration ===
# Primary model provider: 'openai' or 'ollama'
MODEL_PROVIDER=openai

# OpenAI API Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.1
OPENAI_MAX_TOKENS=2000
OPENAI_TIMEOUT=60

# Ollama Configuration (for local models)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2:13b-chat
OLLAMA_TEMPERATURE=0.1
OLLAMA_TIMEOUT=120

# === Database Configuration ===
# ChromaDB Vector Store
CHROMADB_HOST=localhost
CHROMADB_PORT=8000
CHROMADB_COLLECTION_NAME=finance_knowledge

# Vector Store Persistence Directory
VECTOR_STORE_PATH=./data/chromadb_data

# === RAG Configuration ===
# Embedding model for vector store
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# RAG search parameters
RAG_TOP_K=5
RAG_SIMILARITY_THRESHOLD=0.7
RAG_MAX_CONTEXT_LENGTH=4000

# === Agent Configuration ===
# Agent behavior settings
AGENT_MAX_REASONING_STEPS=10
AGENT_CONFIDENCE_THRESHOLD=0.8
AGENT_TIMEOUT=300

# Reasoning approach selection
DEFAULT_REASONING_MODE=multi_step
ENABLE_ASSUMPTION_TRACKING=true
ENABLE_CALCULATION_VALIDATION=true

# === Financial Tools Configuration ===
# Default assumptions for financial calculations
DEFAULT_DISCOUNT_RATE=0.10
DEFAULT_TAX_RATE=0.25
DEFAULT_RISK_FREE_RATE=0.03

# Calculation precision
FINANCIAL_PRECISION=4
CURRENCY_SYMBOL=USD

# === Document Processing ===
# Document parsing configuration
PDF_PARSER=pdfplumber
ENABLE_OCR=false
OCR_LANGUAGE=eng

# Document cache settings
DOCUMENT_CACHE_ENABLED=true
DOCUMENT_CACHE_PATH=./data/cache
DOCUMENT_CACHE_TTL=86400

# === Code Execution Environment ===
# Secure code execution settings
CODE_EXECUTION_TIMEOUT=30
CODE_EXECUTION_MEMORY_LIMIT=512MB
ENABLE_CODE_VALIDATION=true

# Python execution environment
PYTHON_EXECUTABLE=python3
RESTRICTED_PYTHON_ENABLED=true

# === Evaluation Configuration ===
# FinanceQA benchmark settings
BENCHMARK_DATASET_PATH=./data/datasets/financeqa
EVALUATION_BATCH_SIZE=10
ENABLE_DETAILED_LOGGING=true

# Performance tracking
TRACK_PROCESSING_TIME=true
TRACK_TOKEN_USAGE=true
TRACK_API_COSTS=true

# === Logging Configuration ===
# Logging levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FILE=./logs/agent.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# Console logging
CONSOLE_LOG_ENABLED=true
CONSOLE_LOG_LEVEL=INFO

# === Development Configuration ===
# Development mode settings
DEBUG_MODE=false
ENABLE_PROFILING=false
CACHE_RESPONSES=true

# Testing configuration
TEST_DATA_PATH=./data/test_data
MOCK_API_CALLS=false
TEST_TIMEOUT=60

# === Security Configuration ===
# API rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# Input validation
MAX_INPUT_LENGTH=10000
ENABLE_INPUT_SANITIZATION=true

# === External Services ===
# Optional: Additional data sources
FRED_API_KEY=your_fred_api_key_here
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key_here
QUANDL_API_KEY=your_quandl_api_key_here

# === Deployment Configuration ===
# Production settings
ENVIRONMENT=development
HOST=localhost
PORT=8080

# Health check endpoints
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_PATH=/health

# === Advanced Configuration ===
# Experimental features
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_MULTI_THREADING=true
MAX_CONCURRENT_REQUESTS=5

# Memory management
MEMORY_LIMIT=2GB
GC_THRESHOLD=1000

# === Monitoring and Analytics ===
# Optional: Application monitoring
SENTRY_DSN=your_sentry_dsn_here
ENABLE_METRICS=false
METRICS_PORT=9090